"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
const GetDestinationService_1 = require("./services/GetDestinationService");
const SearchHotelsService_1 = require("./services/SearchHotelsService");
const HotelDetailsService_1 = require("./services/HotelDetailsService");
const GetHotelReviews_1 = require("./services/GetHotelReviews");
async function main() {
    // await initializeDataSource();
    const destinationService = new GetDestinationService_1.GetDestinationService();
    const searchHotelsService = new SearchHotelsService_1.SearchHotelsService();
    const hotelDetailsService = new HotelDetailsService_1.HotelDetailsService();
    const hotelReviewsService = new GetHotelReviews_1.HotelRewievsService();
    const destinationAPI = await destinationService.getFirstDestinationIDAndType("Amsterdam");
    console.log("Get Destination API");
    console.log(destinationAPI);
    const searchHotelsAPI = await searchHotelsService.getFirstHotelID(destinationAPI.destinationID, destinationAPI.destinationSearchType, "2023-12-22", "2023-12-30");
    console.log("\nSearch Hotels API");
    // console.log(JSON.stringify(searchHotelsAPI.data.hotels.slice(0, 1), null, 2));
    console.log(searchHotelsAPI);
    console.log("\nHotel Details API");
    const hotelDetailsAPI = await hotelDetailsService.getHotelMainDetails(searchHotelsAPI, "2023-12-22", "2023-12-30");
    console.log(hotelDetailsAPI);
    console.log("\nHotel Reviews API");
    const hotelReviewsAPI = await hotelReviewsService.getHotelReviews(searchHotelsAPI);
    console.log(hotelReviewsAPI);
    console.log("\nHotel Score API");
    const hotelScoreAPI = await hotelReviewsService.getHotelScores(searchHotelsAPI);
    console.log(hotelScoreAPI);
    return destinationAPI;
}
main().catch(console.error);
